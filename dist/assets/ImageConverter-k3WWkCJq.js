import{r as e,k as a,l as t,m as l,n as r,t as s,u as o,p as n,R as i,j as u,C as g,N as d,Q as c,D as m}from"./vendor-Bj4vQ21v.js";import{u as v}from"./index-D4r0_csx.js";import{I as p}from"./ui-a1y1iJBQ.js";const b={class:"space-y-6"},f={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},y={class:"space-y-4"},h={class:"text-lg font-semibold text-gray-900"},x={class:"space-y-4"},C={class:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center"},w={class:"text-lg font-medium text-gray-900"},k={class:"text-sm text-gray-500"},j={key:0,class:"space-y-4"},I={class:"font-medium text-gray-900"},M={class:"space-y-3"},B={class:"block text-sm font-medium text-gray-700 mb-1"},D={key:0},U={class:"block text-sm font-medium text-gray-700 mb-1"},z={class:"block text-sm font-medium text-gray-700 mb-1"},F=["disabled"],R={class:"space-y-4"},G={class:"text-lg font-semibold text-gray-900"},P={key:0,class:"space-y-4"},_={class:"bg-gray-50 rounded-lg p-4"},E={class:"font-medium text-gray-900 mb-2"},L={class:"text-sm text-gray-600 space-y-1"},N={class:"mt-3"},V=["src"],W={key:0,class:"bg-green-50 rounded-lg p-4"},$={class:"font-medium text-gray-900 mb-2"},A={class:"text-sm text-gray-600 space-y-1"},S={class:"mt-3"},T=["src"],q={class:"mt-3 flex space-x-2"},H={__name:"ImageConverter",setup(H){const{t:J}=v(),K=e(null),Q=e(null),O=e(null),X=e(null),Y=e(!1),Z=e(!1),ee=e("jpeg"),ae=e(90),te=e(100),le=e=>{const a=e.target.files[0];a&&a.type.startsWith("image/")&&se(a)},re=e=>{Y.value=!1;const a=e.dataTransfer.files[0];a&&a.type.startsWith("image/")&&se(a)},se=e=>{Q.value=e;const a=new FileReader;a.onload=e=>{const a=new p;a.onload=()=>{O.value={src:e.target.result,width:a.width,height:a.height}},a.src=e.target.result},a.readAsDataURL(e)},oe=()=>{if(!O.value)return;Z.value=!0;const e=document.createElement("canvas"),a=e.getContext("2d"),t=new p;t.onload=()=>{const l=Math.round(t.width*te.value/100),r=Math.round(t.height*te.value/100);e.width=l,e.height=r,a.drawImage(t,0,0,l,r);const s=ne(ee.value),o="jpeg"===ee.value?ae.value/100:void 0;e.toBlob(e=>{const a=new FileReader;a.onload=a=>{X.value={src:a.target.result,width:l,height:r,size:e.size},Z.value=!1},a.readAsDataURL(e)},s,o)},t.src=O.value.src},ne=e=>({jpeg:"image/jpeg",png:"image/png",webp:"image/webp",bmp:"image/bmp",gif:"image/gif"}[e]||"image/jpeg"),ie=()=>{if(!X.value)return;const e="jpeg"===ee.value?"jpg":ee.value,a=document.createElement("a");a.download=`converted_${Date.now()}.${e}`,a.href=X.value.src,a.click()},ue=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]};return(e,v)=>{return t(),a("div",b,[l("div",f,[l("div",y,[l("h3",h,s(o(J)("imageConverter.uploadImage")),1),l("div",{onDrop:re,onDragover:v[1]||(v[1]=i(()=>{},["prevent"])),onDragenter:v[2]||(v[2]=i(()=>{},["prevent"])),class:n(["border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",{"border-blue-500 bg-blue-50":Y.value}])},[l("input",{ref_key:"fileInput",ref:K,type:"file",accept:"image/*",onChange:le,class:"hidden"},null,544),l("div",x,[l("div",C,[u(o(p),{class:"w-8 h-8 text-gray-400"})]),l("div",null,[l("p",w,s(o(J)("imageConverter.dragImageHere")),1),l("p",k,s(o(J)("imageConverter.orClickToSelect")),1)]),l("button",{onClick:v[0]||(v[0]=a=>e.$refs.fileInput.click()),class:"btn-primary"},s(o(J)("imageConverter.selectImage")),1)])],34),Q.value?(t(),a("div",j,[l("h4",I,s(o(J)("imageConverter.conversionSettings")),1),l("div",M,[l("div",null,[l("label",B,s(o(J)("imageConverter.targetFormat")),1),g(l("select",{"onUpdate:modelValue":v[3]||(v[3]=e=>ee.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...v[6]||(v[6]=[c('<option value="jpeg">JPEG</option><option value="png">PNG</option><option value="webp">WebP</option><option value="bmp">BMP</option><option value="gif">GIF</option>',5)])],512),[[d,ee.value]])]),"jpeg"===ee.value?(t(),a("div",D,[l("label",U,s(o(J)("imageConverter.quality"))+" ("+s(ae.value)+"%)",1),g(l("input",{"onUpdate:modelValue":v[4]||(v[4]=e=>ae.value=e),type:"range",min:"10",max:"100",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[m,ae.value]])])):r("",!0),l("div",null,[l("label",z,s(o(J)("imageConverter.scale"))+" ("+s(te.value)+"%)",1),g(l("input",{"onUpdate:modelValue":v[5]||(v[5]=e=>te.value=e),type:"range",min:"10",max:"200",step:"10",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[m,te.value]])])]),l("button",{onClick:oe,disabled:Z.value,class:"btn-primary w-full"},s(Z.value?o(J)("imageConverter.converting"):o(J)("imageConverter.startConversion")),9,F)])):r("",!0)]),l("div",R,[l("h3",G,s(o(J)("imageConverter.conversionResult")),1),O.value?(t(),a("div",P,[l("div",_,[l("h4",E,s(o(J)("imageConverter.originalImageInfo")),1),l("div",L,[l("p",null,s(o(J)("imageConverter.fileName"))+": "+s(Q.value.name),1),l("p",null,s(o(J)("imageConverter.format"))+": "+s((H=Q.value.name,H.split(".").pop().toLowerCase()).toUpperCase()),1),l("p",null,s(o(J)("imageConverter.size"))+": "+s(ue(Q.value.size)),1),l("p",null,s(o(J)("imageConverter.dimensions"))+": "+s(O.value.width)+" × "+s(O.value.height),1)]),l("div",N,[l("img",{src:O.value.src,class:"max-w-full h-auto rounded border"},null,8,V)])]),X.value?(t(),a("div",W,[l("h4",$,s(o(J)("imageConverter.convertedImageInfo")),1),l("div",A,[l("p",null,s(o(J)("imageConverter.format"))+": "+s(ee.value.toUpperCase()),1),l("p",null,s(o(J)("imageConverter.size"))+": "+s(ue(X.value.size)),1),l("p",null,s(o(J)("imageConverter.dimensions"))+": "+s(X.value.width)+" × "+s(X.value.height),1)]),l("div",S,[l("img",{src:X.value.src,class:"max-w-full h-auto rounded border"},null,8,T)]),l("div",q,[l("button",{onClick:ie,class:"btn-primary flex-1"},s(o(J)("imageConverter.downloadConverted")),1)])])):r("",!0)])):r("",!0)])])]);var H}}};export{H as default};
