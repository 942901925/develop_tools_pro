import{r as e,c as a,k as t,l,m as s,F as r,q as d,t as o,z as u,n,A as c,j as i,u as g}from"./vendor-BAdfJYHu.js";import{s as b,t as v}from"./ui-AB4YetZ5.js";const x={class:"space-y-6"},y={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4"},m={class:"flex flex-wrap gap-2"},p=["onClick"],k={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},f={class:"space-y-4"},h={class:"flex items-center justify-between"},O={class:"flex space-x-2"},w=["disabled"],J=["disabled"],N=["disabled"],S={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},j={class:"flex items-center"},C={class:"text-red-700 text-sm"},A={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},T={class:"flex items-center"},L={class:"text-green-700 text-sm"},U={class:"space-y-4"},R={class:"flex items-center justify-between"},z={class:"flex space-x-2"},F=["disabled"],_=["disabled"],q={class:"relative"},B={class:"w-full h-64 p-4 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-lg overflow-auto text-sm font-mono"},E={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500"},I={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},P={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},V={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},D={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},G={class:"text-2xl font-bold text-green-600 dark:text-green-400"},H={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},K={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},M={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg"},Q={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},W={__name:"JsonFormatter",setup(W){const X=e(""),Y=e(""),Z=e(""),$=e(""),ee=e([{name:"用户信息",data:{id:1,name:"张三",email:"zhangsan@example.com",age:25,address:{street:"中山路123号",city:"北京",country:"中国"},hobbies:["读书","游泳","编程"]}},{name:"API响应",data:{status:"success",data:{users:[{id:1,name:"用户1",active:!0},{id:2,name:"用户2",active:!1}],total:2,page:1},message:"获取用户列表成功"}},{name:"配置信息",data:{database:{host:"localhost",port:5432,name:"myapp",ssl:!0},redis:{host:"localhost",port:6379,password:null},features:{enableCache:!0,enableLogging:!1,maxConnections:100}}}]),ae=a(()=>{try{const e=JSON.parse(X.value);return ne(e)}catch{return 0}}),te=a(()=>{try{const e=JSON.parse(X.value);return ce(e)}catch{return 0}}),le=()=>{try{const e=JSON.parse(X.value);Y.value=JSON.stringify(e,null,2),Z.value="",$.value="JSON格式化成功！",setTimeout(()=>{$.value=""},3e3)}catch(e){Z.value="JSON格式错误: "+e.message,Y.value="",$.value=""}},se=()=>{try{const e=JSON.parse(X.value);Y.value=JSON.stringify(e),Z.value="",$.value="JSON压缩成功！",setTimeout(()=>{$.value=""},3e3)}catch(e){Z.value="JSON格式错误: "+e.message,Y.value="",$.value=""}},re=()=>{try{JSON.parse(X.value),Z.value="",$.value="JSON格式验证通过！",setTimeout(()=>{$.value=""},3e3)}catch(e){Z.value="JSON格式错误: "+e.message,$.value=""}},de=()=>{X.value="",Y.value="",Z.value="",$.value=""},oe=async()=>{try{await navigator.clipboard.writeText(Y.value),$.value="结果已复制到剪贴板！",setTimeout(()=>{$.value=""},3e3)}catch(e){Z.value="复制失败: "+e.message}},ue=()=>{if(!Y.value)return;const e=new Blob([Y.value],{type:"application/json"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="formatted.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),$.value="JSON文件已下载！",setTimeout(()=>{$.value=""},3e3)},ne=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?e.reduce((e,a)=>e+ne(a),0):1+Object.values(e).reduce((e,a)=>e+ne(a),0),ce=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?1+e.reduce((e,a)=>e+ce(a),0):Object.values(e).reduce((e,a)=>e+ce(a),0);return(e,a)=>(l(),t("div",x,[s("div",y,[a[1]||(a[1]=s("h4",{class:"font-medium text-blue-900 dark:text-blue-100 mb-2"},"示例数据",-1)),s("div",m,[(l(!0),t(r,null,d(ee.value,e=>(l(),t("button",{key:e.name,onClick:a=>{return t=e.data,X.value=JSON.stringify(t,null,2),Z.value="",$.value="",void(Y.value="");var t},class:"px-3 py-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-100 rounded text-sm transition-colors"},o(e.name),9,p))),128))])]),s("div",k,[s("div",f,[s("div",h,[a[2]||(a[2]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"JSON 输入",-1)),s("div",O,[s("button",{onClick:le,disabled:!X.value.trim(),class:"btn-primary"}," 格式化 ",8,w),s("button",{onClick:se,disabled:!X.value.trim(),class:"btn-secondary"}," 压缩 ",8,J),s("button",{onClick:re,disabled:!X.value.trim(),class:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 验证 ",8,N),s("button",{onClick:de,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"}," 清空 ")])]),u(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>X.value=e),placeholder:"请输入JSON数据，或点击上方示例按钮加载示例数据...",class:"w-full h-64 p-4 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"},null,512),[[c,X.value]]),Z.value?(l(),t("div",S,[s("div",j,[i(g(b),{class:"w-5 h-5 text-red-500 mr-2"}),s("span",C,o(Z.value),1)])])):n("",!0),$.value?(l(),t("div",A,[s("div",T,[i(g(v),{class:"w-5 h-5 text-green-500 mr-2"}),s("span",L,o($.value),1)])])):n("",!0)]),s("div",U,[s("div",R,[a[3]||(a[3]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"格式化结果",-1)),s("div",z,[s("button",{onClick:oe,disabled:!Y.value,class:"btn-primary"}," 复制结果 ",8,F),s("button",{onClick:ue,disabled:!Y.value,class:"btn-secondary"}," 下载 ",8,_)])]),s("div",q,[s("pre",B,o(Y.value||"格式化结果将显示在这里..."),1),Y.value?n("",!0):(l(),t("div",E," 暂无结果 "))])])]),s("div",I,[s("div",P,[a[4]||(a[4]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"字符数",-1)),s("div",V,o(X.value.length),1)]),s("div",D,[a[5]||(a[5]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"行数",-1)),s("div",G,o(X.value.split("\n").length),1)]),s("div",H,[a[6]||(a[6]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"对象数",-1)),s("div",K,o(ae.value),1)]),s("div",M,[a[7]||(a[7]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"数组数",-1)),s("div",Q,o(te.value),1)])])]))}};export{W as default};
