import{r as e,k as s,l as a,m as l,n as r,z as n,A as t,F as i,q as o,t as c,j as d,u}from"./vendor-VsQ_eVXY.js";import{AlertCircle as g,LucideMonitor as v}from"./ui-cmpKH9cm.js";const m={class:"space-y-6"},b={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},p={class:"space-y-4"},x={class:"space-y-3"},y=["disabled"],f={key:0,class:"space-y-3"},h={class:"space-y-2 max-h-40 overflow-y-auto"},w=["onClick"],V={class:"truncate"},A={class:"space-y-4"},k={key:0,class:"space-y-4"},T={class:"bg-white border border-gray-200 rounded-lg p-4"},O={class:"grid grid-cols-2 gap-3 text-sm"},M={class:"ml-2"},S={class:"ml-2"},U={class:"ml-2"},W={class:"ml-2"},C={class:"bg-white border border-gray-200 rounded-lg p-4"},P={class:"grid grid-cols-2 gap-3 text-sm"},N={class:"ml-2"},$={class:"ml-2"},R={class:"ml-2"},_={class:"ml-2"},G={class:"bg-white border border-gray-200 rounded-lg p-4"},X={class:"grid grid-cols-2 gap-3 text-sm"},E={class:"ml-2"},F={class:"ml-2"},I={class:"ml-2"},j={class:"ml-2"},K={class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},L={class:"bg-white p-3 rounded border font-mono text-xs text-gray-700 break-all"},B={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},H={class:"flex items-center"},J={class:"text-red-700"},q={key:2,class:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center"},z={__name:"UserAgentParser",setup(z){const D=e(""),Q=e(null),Y=e(""),Z=e([]),ee=()=>{D.value=navigator.userAgent},se=()=>{D.value="",Q.value=null,Y.value=""},ae=()=>{if(D.value.trim()){Y.value="",Q.value=null;try{const e=D.value.trim(),s=le(e);Q.value=s,re(s)}catch(e){Y.value="解析 User-Agent 失败"}}},le=e=>{const s={browser:"未知",browserVersion:"未知",engine:"未知",engineVersion:"未知",os:"未知",osVersion:"未知",device:"未知",deviceType:"未知",manufacturer:"未知",architecture:"未知",isMobile:!1,isTablet:!1};if(e.includes("Chrome/")){s.browser="Chrome";const a=e.match(/Chrome\/(\d+\.\d+)/);a&&(s.browserVersion=a[1])}else if(e.includes("Firefox/")){s.browser="Firefox";const a=e.match(/Firefox\/(\d+\.\d+)/);a&&(s.browserVersion=a[1])}else if(e.includes("Safari/")&&!e.includes("Chrome/")){s.browser="Safari";const a=e.match(/Version\/(\d+\.\d+)/);a&&(s.browserVersion=a[1])}else if(e.includes("Edge/")){s.browser="Edge";const a=e.match(/Edge\/(\d+\.\d+)/);a&&(s.browserVersion=a[1])}else if(e.includes("Opera/")||e.includes("OPR/")){s.browser="Opera";const a=e.match(/(?:Opera|OPR)\/(\d+\.\d+)/);a&&(s.browserVersion=a[1])}if(e.includes("WebKit/")){s.engine="WebKit";const a=e.match(/WebKit\/(\d+\.\d+)/);a&&(s.engineVersion=a[1])}else if(e.includes("Gecko/")){s.engine="Gecko";const a=e.match(/Gecko\/(\d+)/);a&&(s.engineVersion=a[1])}if(e.includes("Windows NT"))s.os="Windows",e.includes("Windows NT 10.0")?s.osVersion="10":e.includes("Windows NT 6.3")?s.osVersion="8.1":e.includes("Windows NT 6.2")?s.osVersion="8":e.includes("Windows NT 6.1")?s.osVersion="7":e.includes("Windows NT 6.0")?s.osVersion="Vista":e.includes("Windows NT 5.1")&&(s.osVersion="XP");else if(e.includes("Mac OS X")){s.os="macOS";const a=e.match(/Mac OS X (\d+[._]\d+)/);a&&(s.osVersion=a[1].replace("_","."))}else if(e.includes("Linux"))if(s.os="Linux",e.includes("Android")){s.os="Android";const a=e.match(/Android (\d+\.\d+)/);a&&(s.osVersion=a[1])}else e.includes("Ubuntu")&&(s.osVersion="Ubuntu");else if(e.includes("iPhone OS")||e.includes("iOS")){s.os="iOS";const a=e.match(/OS (\d+[._]\d+)/);a&&(s.osVersion=a[1].replace("_","."))}return s.isMobile=/Mobile|Android|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),s.isTablet=/iPad|Android(?!.*Mobile)/i.test(e),s.isMobile||s.isTablet?s.deviceType=s.isTablet?"平板":"手机":s.deviceType="桌面",e.includes("iPhone")||e.includes("iPad")?s.manufacturer="Apple":e.includes("Samsung")?s.manufacturer="Samsung":e.includes("Huawei")?s.manufacturer="Huawei":e.includes("Xiaomi")?s.manufacturer="Xiaomi":e.includes("OnePlus")?s.manufacturer="OnePlus":e.includes("Google")&&(s.manufacturer="Google"),e.includes("x64")||e.includes("Win64")?s.architecture="x64":e.includes("x86")||e.includes("WOW64")?s.architecture="x86":e.includes("ARM64")?s.architecture="ARM64":e.includes("ARM")&&(s.architecture="ARM"),s},re=e=>{const s={...e,timestamp:Date.now()};Z.value=Z.value.filter(s=>s.browser!==e.browser||s.os!==e.os),Z.value.unshift(s),Z.value.length>10&&(Z.value=Z.value.slice(0,10)),localStorage.setItem("user-agent-history",JSON.stringify(Z.value))},ne=()=>{Z.value=[],localStorage.removeItem("user-agent-history")},te=()=>{if(!Q.value)return;const e=`浏览器: ${Q.value.browser} ${Q.value.browserVersion}\n操作系统: ${Q.value.os} ${Q.value.osVersion}\n设备类型: ${Q.value.deviceType}\n引擎: ${Q.value.engine} ${Q.value.engineVersion}\n架构: ${Q.value.architecture}\n移动设备: ${Q.value.isMobile?"是":"否"}`;navigator.clipboard.writeText(e).then(()=>{alert("解析信息已复制到剪贴板")}).catch(()=>{alert("复制失败")})},ie=()=>{D.value&&navigator.clipboard.writeText(D.value).then(()=>{alert("User-Agent 已复制到剪贴板")}).catch(()=>{alert("复制失败")})};return(()=>{try{const e=localStorage.getItem("user-agent-history");e&&(Z.value=JSON.parse(e))}catch(e){console.warn("加载历史记录失败:",e)}})(),(e,z)=>(a(),s("div",m,[l("div",b,[l("div",p,[z[4]||(z[4]=l("h3",{class:"text-lg font-semibold text-gray-900"},"User-Agent 解析",-1)),l("div",x,[z[1]||(z[1]=l("label",{class:"block text-sm font-medium text-gray-700"},"User-Agent 字符串",-1)),n(l("textarea",{"onUpdate:modelValue":z[0]||(z[0]=e=>D.value=e),rows:"4",placeholder:"粘贴 User-Agent 字符串...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"},null,512),[[t,D.value]])]),l("div",{class:"space-y-3"},[z[2]||(z[2]=l("label",{class:"block text-sm font-medium text-gray-700"},"快速选择",-1)),l("div",{class:"grid grid-cols-2 gap-2"},[l("button",{onClick:ee,class:"btn-secondary text-sm"}," 我的 User-Agent "),l("button",{onClick:se,class:"btn-secondary text-sm"}," 清空 ")])]),l("button",{onClick:ae,disabled:!D.value.trim(),class:"btn-primary w-full"}," 解析 User-Agent ",8,y),Z.value.length>0?(a(),s("div",f,[z[3]||(z[3]=l("h4",{class:"font-medium text-gray-900"},"解析历史",-1)),l("div",h,[(a(!0),s(i,null,o(Z.value.slice(0,5),(e,r)=>(a(),s("button",{key:r,onClick:s=>(e=>{Q.value=e})(e),class:"w-full text-left px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-md text-xs text-gray-700 transition-colors"},[l("div",V,c(e.browser)+" "+c(e.browserVersion)+" on "+c(e.os),1)],8,w))),128))]),l("button",{onClick:ne,class:"text-sm text-red-600 hover:text-red-700"}," 清空历史 ")])):r("",!0)]),l("div",A,[z[22]||(z[22]=l("h3",{class:"text-lg font-semibold text-gray-900"},"解析结果",-1)),Q.value?(a(),s("div",k,[l("div",T,[z[9]||(z[9]=l("h4",{class:"font-medium text-gray-900 mb-3"},"浏览器信息",-1)),l("div",O,[l("div",null,[z[5]||(z[5]=l("span",{class:"text-gray-500"},"浏览器:",-1)),l("span",M,c(Q.value.browser||"未知"),1)]),l("div",null,[z[6]||(z[6]=l("span",{class:"text-gray-500"},"版本:",-1)),l("span",S,c(Q.value.browserVersion||"未知"),1)]),l("div",null,[z[7]||(z[7]=l("span",{class:"text-gray-500"},"引擎:",-1)),l("span",U,c(Q.value.engine||"未知"),1)]),l("div",null,[z[8]||(z[8]=l("span",{class:"text-gray-500"},"引擎版本:",-1)),l("span",W,c(Q.value.engineVersion||"未知"),1)])])]),l("div",C,[z[14]||(z[14]=l("h4",{class:"font-medium text-gray-900 mb-3"},"操作系统信息",-1)),l("div",P,[l("div",null,[z[10]||(z[10]=l("span",{class:"text-gray-500"},"操作系统:",-1)),l("span",N,c(Q.value.os||"未知"),1)]),l("div",null,[z[11]||(z[11]=l("span",{class:"text-gray-500"},"版本:",-1)),l("span",$,c(Q.value.osVersion||"未知"),1)]),l("div",null,[z[12]||(z[12]=l("span",{class:"text-gray-500"},"架构:",-1)),l("span",R,c(Q.value.architecture||"未知"),1)]),l("div",null,[z[13]||(z[13]=l("span",{class:"text-gray-500"},"设备类型:",-1)),l("span",_,c(Q.value.deviceType||"未知"),1)])])]),l("div",G,[z[19]||(z[19]=l("h4",{class:"font-medium text-gray-900 mb-3"},"设备信息",-1)),l("div",X,[l("div",null,[z[15]||(z[15]=l("span",{class:"text-gray-500"},"设备:",-1)),l("span",E,c(Q.value.device||"未知"),1)]),l("div",null,[z[16]||(z[16]=l("span",{class:"text-gray-500"},"制造商:",-1)),l("span",F,c(Q.value.manufacturer||"未知"),1)]),l("div",null,[z[17]||(z[17]=l("span",{class:"text-gray-500"},"移动设备:",-1)),l("span",I,c(Q.value.isMobile?"是":"否"),1)]),l("div",null,[z[18]||(z[18]=l("span",{class:"text-gray-500"},"平板设备:",-1)),l("span",j,c(Q.value.isTablet?"是":"否"),1)])])]),l("div",K,[z[20]||(z[20]=l("h4",{class:"font-medium text-gray-900 mb-3"},"原始 User-Agent",-1)),l("div",L,c(D.value),1)]),l("div",{class:"flex space-x-2"},[l("button",{onClick:te,class:"btn-secondary flex-1"}," 复制信息 "),l("button",{onClick:ie,class:"btn-primary flex-1"}," 复制 User-Agent ")])])):Y.value?(a(),s("div",B,[l("div",H,[d(u(g),{class:"w-5 h-5 text-red-500 mr-2"}),l("span",J,c(Y.value),1)])])):(a(),s("div",q,[d(u(v),{class:"w-16 h-16 text-gray-300 mx-auto mb-4"}),z[21]||(z[21]=l("p",{class:"text-gray-500"},"输入 User-Agent 字符串开始解析",-1))]))])])]))}};export{z as default};
