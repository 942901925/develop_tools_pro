import{r as e,c as t,o as a,b as l,k as o,l as s,m as r,n as i,t as u,u as n,C as c,D as d,N as m,Q as v,F as g,q as p}from"./vendor-Bj4vQ21v.js";import{u as b}from"./index-D4r0_csx.js";import"./ui-a1y1iJBQ.js";const y={class:"space-y-6"},f={class:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg"},C={class:"text-lg font-semibold text-gray-900 mb-4"},x={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},h={class:"space-y-4"},T={class:"block text-sm font-medium text-gray-700 mb-2"},k={class:"block text-sm font-medium text-gray-700 mb-2"},w={value:"add"},D={value:"subtract"},U={value:"diff"},S={class:"space-y-4"},A={key:0},L={class:"block text-sm font-medium text-gray-700 mb-2"},M={class:"grid grid-cols-2 gap-2"},z=["placeholder"],I={value:"seconds"},V={value:"minutes"},N={value:"hours"},O={value:"days"},Y={value:"weeks"},_={value:"months"},j={value:"years"},$={key:1},E={class:"block text-sm font-medium text-gray-700 mb-2"},H={class:"mt-6 text-center"},W={key:0,class:"space-y-4"},q={class:"text-lg font-semibold text-gray-900"},B={class:"bg-gray-50 p-6 rounded-lg"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"text-sm text-gray-600"},R={class:"text-lg font-mono"},G={key:0},J={class:"text-sm text-gray-600"},K={class:"text-lg font-mono"},P={key:1},X={class:"text-sm text-gray-600"},Z={class:"text-lg font-mono"},ee={class:"mt-4 pt-4 border-t border-gray-200"},te={class:"text-sm text-gray-600"},ae={class:"text-2xl font-bold text-blue-600 font-mono"},le={class:"space-y-4"},oe={class:"text-lg font-semibold text-gray-900"},se={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},re={class:"block text-sm font-medium text-gray-700 mb-2"},ie={class:"block text-sm font-medium text-gray-700 mb-2"},ue={class:"flex items-end"},ne={key:0,class:"bg-gray-50 p-4 rounded-lg"},ce={class:"text-sm text-gray-600"},de={class:"text-lg font-mono"},me={class:"space-y-4"},ve={class:"text-lg font-semibold text-gray-900"},ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pe=["onClick"],be={class:"font-medium text-gray-900"},ye={class:"text-sm text-gray-600"},fe={class:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg"},Ce={class:"text-lg font-semibold text-gray-900 mb-4"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},he={class:"text-center"},Te={class:"text-sm text-gray-600"},ke={class:"text-lg font-bold text-purple-600"},we={class:"text-center"},De={class:"text-sm text-gray-600"},Ue={class:"text-lg font-bold text-blue-600"},Se={class:"text-center"},Ae={class:"text-sm text-gray-600"},Le={class:"text-lg font-bold text-green-600"},Me={__name:"TimeCalculator",setup(Me){const{t:ze}=b(),Ie=e(""),Ve=e("add"),Ne=e(1),Oe=e("days"),Ye=e(""),_e=e(""),je=e("UTC"),$e=e("Asia/Shanghai"),Ee=e(""),He=e({local:"",utc:"",timestamp:0}),We=t(()=>[{name:ze("timeCalculator.presets.oneHourLater"),description:ze("timeCalculator.presets.oneHourLaterDesc"),value:1,unit:"hours"},{name:ze("timeCalculator.presets.oneDayLater"),description:ze("timeCalculator.presets.oneDayLaterDesc"),value:1,unit:"days"},{name:ze("timeCalculator.presets.oneWeekLater"),description:ze("timeCalculator.presets.oneWeekLaterDesc"),value:1,unit:"weeks"},{name:ze("timeCalculator.presets.oneMonthAgo"),description:ze("timeCalculator.presets.oneMonthAgoDesc"),value:-1,unit:"months"},{name:ze("timeCalculator.presets.oneYearAgo"),description:ze("timeCalculator.presets.oneYearAgoDesc"),value:-1,unit:"years"},{name:ze("timeCalculator.presets.workday"),description:ze("timeCalculator.presets.workdayDesc"),value:1,unit:"weekdays"}]);let qe=null;const Be=()=>{if(!Ie.value)return void alert(ze("timeCalculator.selectBaseDate"));const e=new Date(Ie.value);if("diff"===Ve.value){if(!Ye.value)return void alert(ze("timeCalculator.selectCompareDate"));const t=new Date(Ye.value),a=Math.abs(t-e);_e.value=Qe(a)}else{const t=Fe(Ne.value,Oe.value),a=new Date(e.getTime()+("add"===Ve.value?t:-t));_e.value=Ge(a.toISOString().slice(0,16))}},Fe=(e,t)=>e*({seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:2592e6,years:31536e6}[t]||0),Qe=e=>{const t=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),l=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3),s=[];return t>0&&s.push(`${t}天`),a>0&&s.push(`${a}小时`),l>0&&s.push(`${l}分钟`),o>0&&s.push(`${o}秒`),s.join(" ")||"0秒"},Re=()=>{if(!Ie.value)return void alert("请先选择基础日期");const e=new Date(Ie.value),t=e.getTime()+6e4*e.getTimezoneOffset(),a={UTC:0,"Asia/Shanghai":8,"America/New_York":-5,"Europe/London":0,"Asia/Tokyo":9,"Australia/Sydney":10},l=a[je.value]||0,o=a[$e.value]||0,s=new Date(t+60*(o-l)*60*1e3);Ee.value=Ge(s.toISOString().slice(0,16))},Ge=e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),Je=()=>{const e=new Date;He.value={local:e.toLocaleString("zh-CN"),utc:e.toUTCString(),timestamp:Math.floor(e.getTime()/1e3)}};return a(()=>{Je(),qe=setInterval(Je,1e3)}),l(()=>{qe&&clearInterval(qe)}),(e,t)=>{return s(),o("div",y,[r("div",f,[r("h3",C,u(n(ze)("timeCalculator.title")),1),r("div",x,[r("div",h,[r("div",null,[r("label",T,u(n(ze)("timeCalculator.baseDate")),1),c(r("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>Ie.value=e),type:"datetime-local",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,Ie.value]])]),r("div",null,[r("label",k,u(n(ze)("timeCalculator.operationType")),1),c(r("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Ve.value=e),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[r("option",w,u(n(ze)("timeCalculator.addTime")),1),r("option",D,u(n(ze)("timeCalculator.subtractTime")),1),r("option",U,u(n(ze)("timeCalculator.timeDiff")),1)],512),[[m,Ve.value]])])]),r("div",S,["diff"!==Ve.value?(s(),o("div",A,[r("label",L,u(n(ze)("timeCalculator.timeOffset")),1),r("div",M,[c(r("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>Ne.value=e),type:"number",placeholder:n(ze)("timeCalculator.value"),class:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,z),[[d,Ne.value,void 0,{number:!0}]]),c(r("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>Oe.value=e),class:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[r("option",I,u(n(ze)("timeCalculator.seconds")),1),r("option",V,u(n(ze)("timeCalculator.minutes")),1),r("option",N,u(n(ze)("timeCalculator.hours")),1),r("option",O,u(n(ze)("timeCalculator.days")),1),r("option",Y,u(n(ze)("timeCalculator.weeks")),1),r("option",_,u(n(ze)("timeCalculator.months")),1),r("option",j,u(n(ze)("timeCalculator.years")),1)],512),[[m,Oe.value]])])])):i("",!0),"diff"===Ve.value?(s(),o("div",$,[r("label",E,u(n(ze)("timeCalculator.compareDate")),1),c(r("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>Ye.value=e),type:"datetime-local",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,Ye.value]])])):i("",!0)])]),r("div",H,[r("button",{onClick:Be,class:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium"},u(n(ze)("timeCalculator.calculate")),1)])]),_e.value?(s(),o("div",W,[r("h3",q,u(n(ze)("timeCalculator.result")),1),r("div",B,[r("div",F,[r("div",null,[r("div",Q,u(n(ze)("timeCalculator.baseTime")),1),r("div",R,u(Ge(Ie.value)),1)]),"diff"===Ve.value?(s(),o("div",G,[r("div",J,u(n(ze)("timeCalculator.compareTime")),1),r("div",K,u(Ge(Ye.value)),1)])):(s(),o("div",P,[r("div",X,u(n(ze)("timeCalculator.operation")),1),r("div",Z,u("add"===Ve.value?"+":"-")+u(Ne.value)+" "+u((a=Oe.value,{seconds:ze("timeCalculator.seconds"),minutes:ze("timeCalculator.minutes"),hours:ze("timeCalculator.hours"),days:ze("timeCalculator.days"),weeks:ze("timeCalculator.weeks"),months:ze("timeCalculator.months"),years:ze("timeCalculator.years")}[a]||a)),1)]))]),r("div",ee,[r("div",te,u(n(ze)("timeCalculator.resultTime")),1),r("div",ae,u(_e.value),1)])])])):i("",!0),r("div",le,[r("h3",oe,u(n(ze)("timeCalculator.timezoneConversion")),1),r("div",se,[r("div",null,[r("label",re,u(n(ze)("timeCalculator.sourceTimezone")),1),c(r("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>je.value=e),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},[...t[7]||(t[7]=[v('<option value="UTC">UTC</option><option value="Asia/Shanghai">北京时间 (UTC+8)</option><option value="America/New_York">纽约时间 (UTC-5)</option><option value="Europe/London">伦敦时间 (UTC+0)</option><option value="Asia/Tokyo">东京时间 (UTC+9)</option><option value="Australia/Sydney">悉尼时间 (UTC+10)</option>',6)])],512),[[m,je.value]])]),r("div",null,[r("label",ie,u(n(ze)("timeCalculator.targetTimezone")),1),c(r("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>$e.value=e),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},[...t[8]||(t[8]=[v('<option value="UTC">UTC</option><option value="Asia/Shanghai">北京时间 (UTC+8)</option><option value="America/New_York">纽约时间 (UTC-5)</option><option value="Europe/London">伦敦时间 (UTC+0)</option><option value="Asia/Tokyo">东京时间 (UTC+9)</option><option value="Australia/Sydney">悉尼时间 (UTC+10)</option>',6)])],512),[[m,$e.value]])]),r("div",ue,[r("button",{onClick:Re,class:"w-full px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"},u(n(ze)("timeCalculator.convertTimezone")),1)])]),Ee.value?(s(),o("div",ne,[r("div",ce,u(n(ze)("timeCalculator.conversionResult")),1),r("div",de,u(Ee.value),1)])):i("",!0)]),r("div",me,[r("h3",ve,u(n(ze)("timeCalculator.commonCalculations")),1),r("div",ge,[(s(!0),o(g,null,p(We.value,e=>(s(),o("div",{key:e.name,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:t=>(e=>{const t=new Date;if(Ie.value=t.toISOString().slice(0,16),"weekdays"===e.unit){const e=new Date(t);for(e.setDate(t.getDate()+1);0===e.getDay()||6===e.getDay();)e.setDate(e.getDate()+1);Ie.value=e.toISOString().slice(0,16),Ve.value="add",Ne.value=0,Oe.value="days"}else Ve.value=e.value>0?"add":"subtract",Ne.value=Math.abs(e.value),Oe.value=e.unit;Be()})(e)},[r("div",be,u(e.name),1),r("div",ye,u(e.description),1)],8,pe))),128))])]),r("div",fe,[r("h3",Ce,u(n(ze)("timeCalculator.currentTimeInfo")),1),r("div",xe,[r("div",he,[r("div",Te,u(n(ze)("timeCalculator.localTime")),1),r("div",ke,u(He.value.local),1)]),r("div",we,[r("div",De,u(n(ze)("timeCalculator.utcTime")),1),r("div",Ue,u(He.value.utc),1)]),r("div",Se,[r("div",Ae,u(n(ze)("timeCalculator.timestamp")),1),r("div",Le,u(He.value.timestamp),1)])])])]);var a}}};export{Me as default};
