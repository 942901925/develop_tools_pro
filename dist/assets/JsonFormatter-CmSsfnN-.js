import{r as e,c as a,k as t,l,m as s,F as r,q as d,t as o,z as u,n as i,A as n,j as c,u as b}from"./vendor-BAdfJYHu.js";import{s as g,t as v}from"./ui-AB4YetZ5.js";const x={class:"space-y-2"},p={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-1"},y={class:"flex flex-wrap gap-1"},m=["onClick"],h={class:"flex flex-wrap gap-2 justify-center mb-1"},k=["disabled"],f=["disabled"],w=["disabled"],O={class:"grid grid-cols-1 xl:grid-cols-2 gap-2"},J={class:"space-y-1"},N={class:"flex items-center justify-between"},S={class:"flex space-x-2"},j=["disabled"],C={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},T={class:"flex items-center"},A={class:"text-red-700 text-sm"},L={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},U={class:"flex items-center"},R={class:"text-green-700 text-sm"},z={class:"space-y-1"},F={class:"flex items-center justify-between"},_={class:"flex space-x-2"},q=["disabled"],B=["disabled"],E={class:"relative"},I={class:"w-full h-96 p-1 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-lg overflow-auto text-sm font-mono"},P={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500"},V={class:"grid grid-cols-2 md:grid-cols-4 gap-1"},D={class:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg"},G={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},H={class:"bg-green-50 dark:bg-green-900/20 p-2 rounded-lg"},K={class:"text-2xl font-bold text-green-600 dark:text-green-400"},M={class:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded-lg"},Q={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},W={class:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded-lg"},X={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Y={__name:"JsonFormatter",setup(Y){const Z=e(""),$=e(""),ee=e(""),ae=e(""),te=e([{name:"用户信息",data:{id:1,name:"张三",email:"zhangsan@example.com",age:25,address:{street:"中山路123号",city:"北京",country:"中国"},hobbies:["读书","游泳","编程"]}},{name:"API响应",data:{status:"success",data:{users:[{id:1,name:"用户1",active:!0},{id:2,name:"用户2",active:!1}],total:2,page:1},message:"获取用户列表成功"}},{name:"配置信息",data:{database:{host:"localhost",port:5432,name:"myapp",ssl:!0},redis:{host:"localhost",port:6379,password:null},features:{enableCache:!0,enableLogging:!1,maxConnections:100}}}]),le=a(()=>{try{const e=JSON.parse(Z.value);return be(e)}catch{return 0}}),se=a(()=>{try{const e=JSON.parse(Z.value);return ge(e)}catch{return 0}}),re=()=>{try{const e=JSON.parse(Z.value);$.value=JSON.stringify(e,null,2),ee.value="",ae.value="JSON格式化成功！",setTimeout(()=>{ae.value=""},3e3)}catch(e){ee.value="JSON格式错误: "+e.message,$.value="",ae.value=""}},de=()=>{try{const e=JSON.parse(Z.value);$.value=JSON.stringify(e),ee.value="",ae.value="JSON压缩成功！",setTimeout(()=>{ae.value=""},3e3)}catch(e){ee.value="JSON格式错误: "+e.message,$.value="",ae.value=""}},oe=()=>{try{JSON.parse(Z.value),ee.value="",ae.value="JSON格式验证通过！",setTimeout(()=>{ae.value=""},3e3)}catch(e){ee.value="JSON格式错误: "+e.message,ae.value=""}},ue=()=>{Z.value="",$.value="",ee.value="",ae.value=""},ie=async()=>{try{await navigator.clipboard.writeText(Z.value),ae.value="输入内容已复制到剪贴板！",setTimeout(()=>{ae.value=""},3e3)}catch(e){ee.value="复制失败: "+e.message}},ne=async()=>{try{await navigator.clipboard.writeText($.value),ae.value="结果已复制到剪贴板！",setTimeout(()=>{ae.value=""},3e3)}catch(e){ee.value="复制失败: "+e.message}},ce=()=>{if(!$.value)return;const e=new Blob([$.value],{type:"application/json"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="formatted.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),ae.value="JSON文件已下载！",setTimeout(()=>{ae.value=""},3e3)},be=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?e.reduce((e,a)=>e+be(a),0):1+Object.values(e).reduce((e,a)=>e+be(a),0),ge=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?1+e.reduce((e,a)=>e+ge(a),0):Object.values(e).reduce((e,a)=>e+ge(a),0);return(e,a)=>(l(),t("div",x,[s("div",p,[a[1]||(a[1]=s("h4",{class:"font-medium text-blue-900 dark:text-blue-100 mb-1"},"示例数据",-1)),s("div",y,[(l(!0),t(r,null,d(te.value,e=>(l(),t("button",{key:e.name,onClick:a=>{return t=e.data,Z.value=JSON.stringify(t,null,2),ee.value="",ae.value="",void($.value="");var t},class:"px-2 py-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-100 rounded text-xs transition-colors"},o(e.name),9,m))),128))])]),s("div",h,[s("button",{onClick:re,disabled:!Z.value.trim(),class:"px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," 格式化 ",8,k),s("button",{onClick:de,disabled:!Z.value.trim(),class:"px-3 py-1.5 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," 压缩 ",8,f),s("button",{onClick:oe,disabled:!Z.value.trim(),class:"px-3 py-1.5 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," 验证 ",8,w),s("button",{onClick:ue,class:"px-3 py-1.5 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm"}," 清空 ")]),s("div",O,[s("div",J,[s("div",N,[a[2]||(a[2]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"JSON 输入",-1)),s("div",S,[s("button",{onClick:ie,disabled:!Z.value.trim(),class:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 复制 ",8,j)])]),u(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>Z.value=e),placeholder:"请输入JSON数据，或点击上方示例按钮加载示例数据...",class:"w-full h-96 p-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"},null,512),[[n,Z.value]]),ee.value?(l(),t("div",C,[s("div",T,[c(b(g),{class:"w-5 h-5 text-red-500 mr-2"}),s("span",A,o(ee.value),1)])])):i("",!0),ae.value?(l(),t("div",L,[s("div",U,[c(b(v),{class:"w-5 h-5 text-green-500 mr-2"}),s("span",R,o(ae.value),1)])])):i("",!0)]),s("div",z,[s("div",F,[a[3]||(a[3]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"格式化结果",-1)),s("div",_,[s("button",{onClick:ne,disabled:!$.value,class:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 复制结果 ",8,q),s("button",{onClick:ce,disabled:!$.value,class:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 下载 ",8,B)])]),s("div",E,[s("pre",I,o($.value||"格式化结果将显示在这里..."),1),$.value?i("",!0):(l(),t("div",P," 暂无结果 "))])])]),s("div",V,[s("div",D,[a[4]||(a[4]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"字符数",-1)),s("div",G,o(Z.value.length),1)]),s("div",H,[a[5]||(a[5]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"行数",-1)),s("div",K,o(Z.value.split("\n").length),1)]),s("div",M,[a[6]||(a[6]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"对象数",-1)),s("div",Q,o(le.value),1)]),s("div",W,[a[7]||(a[7]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"数组数",-1)),s("div",X,o(se.value),1)])])]))}};export{Y as default};
