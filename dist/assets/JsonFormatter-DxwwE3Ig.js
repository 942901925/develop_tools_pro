import{r as e,c as a,k as t,l as r,m as s,t as l,u as o,F as d,q as n,C as u,n as i,D as c,j as b}from"./vendor-Bj4vQ21v.js";import{u as g,c as v}from"./index-D4r0_csx.js";import{s as m,t as x}from"./ui-a1y1iJBQ.js";const p={class:"space-y-2"},y={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-1"},f={class:"font-medium text-blue-900 dark:text-blue-100 mb-1"},h={class:"flex flex-wrap gap-1"},k=["onClick"],j={class:"flex flex-wrap gap-2 justify-center mb-1"},w=["disabled"],F=["disabled"],O=["disabled"],C={class:"grid grid-cols-1 xl:grid-cols-2 gap-2"},J={class:"space-y-1"},N={class:"flex items-center justify-between"},S={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},R={class:"flex space-x-2"},T=["disabled"],L=["placeholder"],U={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},A={class:"flex items-center"},I={class:"text-red-700 text-sm"},z={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},D={class:"flex items-center"},P={class:"text-green-700 text-sm"},_={class:"space-y-1"},q={class:"flex items-center justify-between"},B={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},E={class:"flex space-x-2"},V=["disabled"],G=["disabled"],H={class:"relative"},K={class:"w-full h-96 p-1 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-lg overflow-auto text-sm font-mono"},M={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500"},Q={class:"grid grid-cols-2 md:grid-cols-4 gap-1"},W={class:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg"},X={class:"text-sm text-gray-600 dark:text-gray-400"},Y={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Z={class:"bg-green-50 dark:bg-green-900/20 p-2 rounded-lg"},$={class:"text-sm text-gray-600 dark:text-gray-400"},ee={class:"text-2xl font-bold text-green-600 dark:text-green-400"},ae={class:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded-lg"},te={class:"text-sm text-gray-600 dark:text-gray-400"},re={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},se={class:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded-lg"},le={class:"text-sm text-gray-600 dark:text-gray-400"},oe={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},de={__name:"JsonFormatter",setup(de){const{t:ne}=g(),ue=e(""),ie=e(""),ce=e(""),be=e(""),ge=a(()=>[{name:ne("jsonFormatter.examples.userInfo"),data:{id:1,name:"张三",email:"zhangsan@example.com",age:25,address:{street:"中山路123号",city:"北京",country:"中国"},hobbies:["读书","游泳","编程"]}},{name:ne("jsonFormatter.examples.apiResponse"),data:{status:"success",data:{users:[{id:1,name:"用户1",active:!0},{id:2,name:"用户2",active:!1}],total:2,page:1},message:"获取用户列表成功"}},{name:ne("jsonFormatter.examples.configInfo"),data:{database:{host:"localhost",port:5432,name:"myapp",ssl:!0},redis:{host:"localhost",port:6379,password:null},features:{enableCache:!0,enableLogging:!1,maxConnections:100}}}]),ve=a(()=>{try{const e=JSON.parse(ue.value);return we(e)}catch{return 0}}),me=a(()=>{try{const e=JSON.parse(ue.value);return Fe(e)}catch{return 0}}),xe=()=>{try{const e=JSON.parse(ue.value);ie.value=JSON.stringify(e,null,2),ce.value="",be.value="JSON格式化成功！",setTimeout(()=>{be.value=""},3e3)}catch(e){ce.value="JSON格式错误: "+e.message,ie.value="",be.value=""}},pe=()=>{try{const e=JSON.parse(ue.value);ie.value=JSON.stringify(e),ce.value="",be.value="JSON压缩成功！",setTimeout(()=>{be.value=""},3e3)}catch(e){ce.value="JSON格式错误: "+e.message,ie.value="",be.value=""}},ye=()=>{try{JSON.parse(ue.value),ce.value="",be.value="JSON格式验证通过！",setTimeout(()=>{be.value=""},3e3)}catch(e){ce.value="JSON格式错误: "+e.message,be.value=""}},fe=()=>{ue.value="",ie.value="",ce.value="",be.value=""},he=async()=>{await v(ue.value,"输入内容")?(be.value="输入内容已复制到剪贴板！",setTimeout(()=>{be.value=""},3e3)):ce.value="复制失败"},ke=async()=>{await v(ie.value,"格式化结果")?(be.value="结果已复制到剪贴板！",setTimeout(()=>{be.value=""},3e3)):ce.value="复制失败"},je=()=>{if(!ie.value)return;const e=new Blob([ie.value],{type:"application/json"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="formatted.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),be.value="JSON文件已下载！",setTimeout(()=>{be.value=""},3e3)},we=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?e.reduce((e,a)=>e+we(a),0):1+Object.values(e).reduce((e,a)=>e+we(a),0),Fe=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?1+e.reduce((e,a)=>e+Fe(a),0):Object.values(e).reduce((e,a)=>e+Fe(a),0);return(e,a)=>(r(),t("div",p,[s("div",y,[s("h4",f,l(o(ne)("jsonFormatter.exampleData")),1),s("div",h,[(r(!0),t(d,null,n(ge.value,e=>(r(),t("button",{key:e.name,onClick:a=>{return t=e.data,ue.value=JSON.stringify(t,null,2),ce.value="",be.value="",void(ie.value="");var t},class:"px-2 py-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-100 rounded text-xs transition-colors"},l(e.name),9,k))),128))])]),s("div",j,[s("button",{onClick:xe,disabled:!ue.value.trim(),class:"px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l(o(ne)("jsonFormatter.format")),9,w),s("button",{onClick:pe,disabled:!ue.value.trim(),class:"px-3 py-1.5 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l(o(ne)("jsonFormatter.minify")),9,F),s("button",{onClick:ye,disabled:!ue.value.trim(),class:"px-3 py-1.5 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l(o(ne)("jsonFormatter.validate")),9,O),s("button",{onClick:fe,class:"px-3 py-1.5 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm"},l(o(ne)("jsonFormatter.clear")),1)]),s("div",C,[s("div",J,[s("div",N,[s("h3",S,l(o(ne)("jsonFormatter.jsonInput")),1),s("div",R,[s("button",{onClick:he,disabled:!ue.value.trim(),class:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o(ne)("jsonFormatter.copy")),9,T)])]),u(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>ue.value=e),placeholder:o(ne)("jsonFormatter.inputPlaceholder"),class:"w-full h-96 p-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"},null,8,L),[[c,ue.value]]),ce.value?(r(),t("div",U,[s("div",A,[b(o(m),{class:"w-5 h-5 text-red-500 mr-2"}),s("span",I,l(ce.value),1)])])):i("",!0),be.value?(r(),t("div",z,[s("div",D,[b(o(x),{class:"w-5 h-5 text-green-500 mr-2"}),s("span",P,l(be.value),1)])])):i("",!0)]),s("div",_,[s("div",q,[s("h3",B,l(o(ne)("jsonFormatter.formattedResult")),1),s("div",E,[s("button",{onClick:ke,disabled:!ie.value,class:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o(ne)("jsonFormatter.copyResult")),9,V),s("button",{onClick:je,disabled:!ie.value,class:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o(ne)("jsonFormatter.download")),9,G)])]),s("div",H,[s("pre",K,l(ie.value||o(ne)("jsonFormatter.resultPlaceholder")),1),ie.value?i("",!0):(r(),t("div",M,l(o(ne)("jsonFormatter.noResult")),1))])])]),s("div",Q,[s("div",W,[s("div",X,l(o(ne)("jsonFormatter.charCount")),1),s("div",Y,l(ue.value.length),1)]),s("div",Z,[s("div",$,l(o(ne)("jsonFormatter.lineCount")),1),s("div",ee,l(ue.value.split("\n").length),1)]),s("div",ae,[s("div",te,l(o(ne)("jsonFormatter.objectCount")),1),s("div",re,l(ve.value),1)]),s("div",se,[s("div",le,l(o(ne)("jsonFormatter.arrayCount")),1),s("div",oe,l(me.value),1)])])]))}};export{de as default};
