import{r as e,o as t,b as a,k as l,l as o,m as s,n as i,z as n,A as r,L as u,M as d,t as c,F as v,q as g}from"./vendor-BAdfJYHu.js";const p={class:"space-y-6"},m={class:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg"},b={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},f={class:"space-y-4"},y={class:"space-y-4"},x={key:0},h={class:"grid grid-cols-2 gap-2"},k={key:1},w={key:0,class:"space-y-4"},T={class:"bg-gray-50 p-6 rounded-lg"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"text-lg font-mono"},S={key:0},D={class:"text-lg font-mono"},A={key:1},M={class:"text-lg font-mono"},V={class:"mt-4 pt-4 border-t border-gray-200"},I={class:"text-2xl font-bold text-blue-600 font-mono"},L={class:"space-y-4"},N={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},O={key:0,class:"bg-gray-50 p-4 rounded-lg"},_={class:"text-lg font-mono"},z={class:"space-y-4"},$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},E=["onClick"],Y={class:"font-medium text-gray-900"},j={class:"text-sm text-gray-600"},q={class:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},B={class:"text-center"},G={class:"text-lg font-bold text-purple-600"},H={class:"text-center"},J={class:"text-lg font-bold text-blue-600"},K={class:"text-center"},P={class:"text-lg font-bold text-green-600"},Q={__name:"TimeCalculator",setup(Q){const R=e(""),W=e("add"),X=e(1),Z=e("days"),ee=e(""),te=e(""),ae=e("UTC"),le=e("Asia/Shanghai"),oe=e(""),se=e({local:"",utc:"",timestamp:0}),ie=e([{name:"1小时后",description:"当前时间 + 1小时",value:1,unit:"hours"},{name:"1天后",description:"当前时间 + 1天",value:1,unit:"days"},{name:"1周后",description:"当前时间 + 1周",value:1,unit:"weeks"},{name:"1个月前",description:"当前时间 - 1月",value:-1,unit:"months"},{name:"1年前",description:"当前时间 - 1年",value:-1,unit:"years"},{name:"工作日",description:"下一个工作日",value:1,unit:"weekdays"}]);let ne=null;const re=()=>{if(!R.value)return void alert("请选择基础日期");const e=new Date(R.value);if("diff"===W.value){if(!ee.value)return void alert("请选择对比日期");const t=new Date(ee.value),a=Math.abs(t-e);te.value=de(a)}else{const t=ue(X.value,Z.value),a=new Date(e.getTime()+("add"===W.value?t:-t));te.value=ve(a.toISOString().slice(0,16))}},ue=(e,t)=>e*({seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:2592e6,years:31536e6}[t]||0),de=e=>{const t=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),l=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3),s=[];return t>0&&s.push(`${t}天`),a>0&&s.push(`${a}小时`),l>0&&s.push(`${l}分钟`),o>0&&s.push(`${o}秒`),s.join(" ")||"0秒"},ce=()=>{if(!R.value)return void alert("请先选择基础日期");const e=new Date(R.value),t=e.getTime()+6e4*e.getTimezoneOffset(),a={UTC:0,"Asia/Shanghai":8,"America/New_York":-5,"Europe/London":0,"Asia/Tokyo":9,"Australia/Sydney":10},l=a[ae.value]||0,o=a[le.value]||0,s=new Date(t+60*(o-l)*60*1e3);oe.value=ve(s.toISOString().slice(0,16))},ve=e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),ge=()=>{const e=new Date;se.value={local:e.toLocaleString("zh-CN"),utc:e.toUTCString(),timestamp:Math.floor(e.getTime()/1e3)}};return t(()=>{ge(),ne=setInterval(ge,1e3)}),a(()=>{ne&&clearInterval(ne)}),(e,t)=>{return o(),l("div",p,[s("div",m,[t[13]||(t[13]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"时间计算器",-1)),s("div",b,[s("div",f,[s("div",null,[t[7]||(t[7]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"基础日期",-1)),n(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>R.value=e),type:"datetime-local",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[r,R.value]])]),s("div",null,[t[9]||(t[9]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"操作类型",-1)),n(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>W.value=e),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[8]||(t[8]=[s("option",{value:"add"},"加时间",-1),s("option",{value:"subtract"},"减时间",-1),s("option",{value:"diff"},"时间差",-1)])],512),[[u,W.value]])])]),s("div",y,["diff"!==W.value?(o(),l("div",x,[t[11]||(t[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"时间偏移",-1)),s("div",h,[n(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>X.value=e),type:"number",placeholder:"数值",class:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[r,X.value,void 0,{number:!0}]]),n(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>Z.value=e),class:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[10]||(t[10]=[d('<option value="seconds">秒</option><option value="minutes">分钟</option><option value="hours">小时</option><option value="days">天</option><option value="weeks">周</option><option value="months">月</option><option value="years">年</option>',7)])],512),[[u,Z.value]])])])):i("",!0),"diff"===W.value?(o(),l("div",k,[t[12]||(t[12]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"对比日期",-1)),n(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>ee.value=e),type:"datetime-local",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[r,ee.value]])])):i("",!0)])]),s("div",{class:"mt-6 text-center"},[s("button",{onClick:re,class:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium"}," 计算 ")])]),te.value?(o(),l("div",w,[t[18]||(t[18]=s("h3",{class:"text-lg font-semibold text-gray-900"},"计算结果",-1)),s("div",T,[s("div",C,[s("div",null,[t[14]||(t[14]=s("div",{class:"text-sm text-gray-600"},"基础时间",-1)),s("div",U,c(ve(R.value)),1)]),"diff"===W.value?(o(),l("div",S,[t[15]||(t[15]=s("div",{class:"text-sm text-gray-600"},"对比时间",-1)),s("div",D,c(ve(ee.value)),1)])):(o(),l("div",A,[t[16]||(t[16]=s("div",{class:"text-sm text-gray-600"},"操作",-1)),s("div",M,c("add"===W.value?"+":"-")+c(X.value)+" "+c((a=Z.value,{seconds:"秒",minutes:"分钟",hours:"小时",days:"天",weeks:"周",months:"月",years:"年"}[a]||a)),1)]))]),s("div",V,[t[17]||(t[17]=s("div",{class:"text-sm text-gray-600"},"结果时间",-1)),s("div",I,c(te.value),1)])])])):i("",!0),s("div",L,[t[24]||(t[24]=s("h3",{class:"text-lg font-semibold text-gray-900"},"时区转换",-1)),s("div",N,[s("div",null,[t[20]||(t[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"源时区",-1)),n(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>ae.value=e),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},[...t[19]||(t[19]=[d('<option value="UTC">UTC</option><option value="Asia/Shanghai">北京时间 (UTC+8)</option><option value="America/New_York">纽约时间 (UTC-5)</option><option value="Europe/London">伦敦时间 (UTC+0)</option><option value="Asia/Tokyo">东京时间 (UTC+9)</option><option value="Australia/Sydney">悉尼时间 (UTC+10)</option>',6)])],512),[[u,ae.value]])]),s("div",null,[t[22]||(t[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"目标时区",-1)),n(s("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>le.value=e),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},[...t[21]||(t[21]=[d('<option value="UTC">UTC</option><option value="Asia/Shanghai">北京时间 (UTC+8)</option><option value="America/New_York">纽约时间 (UTC-5)</option><option value="Europe/London">伦敦时间 (UTC+0)</option><option value="Asia/Tokyo">东京时间 (UTC+9)</option><option value="Australia/Sydney">悉尼时间 (UTC+10)</option>',6)])],512),[[u,le.value]])]),s("div",{class:"flex items-end"},[s("button",{onClick:ce,class:"w-full px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"}," 转换时区 ")])]),oe.value?(o(),l("div",O,[t[23]||(t[23]=s("div",{class:"text-sm text-gray-600"},"转换结果",-1)),s("div",_,c(oe.value),1)])):i("",!0)]),s("div",z,[t[25]||(t[25]=s("h3",{class:"text-lg font-semibold text-gray-900"},"常用时间计算",-1)),s("div",$,[(o(!0),l(v,null,g(ie.value,e=>(o(),l("div",{key:e.name,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:t=>(e=>{const t=new Date;if(R.value=t.toISOString().slice(0,16),"weekdays"===e.unit){const e=new Date(t);for(e.setDate(t.getDate()+1);0===e.getDay()||6===e.getDay();)e.setDate(e.getDate()+1);R.value=e.toISOString().slice(0,16),W.value="add",X.value=0,Z.value="days"}else W.value=e.value>0?"add":"subtract",X.value=Math.abs(e.value),Z.value=e.unit;re()})(e)},[s("div",Y,c(e.name),1),s("div",j,c(e.description),1)],8,E))),128))])]),s("div",q,[t[29]||(t[29]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"当前时间信息",-1)),s("div",F,[s("div",B,[t[26]||(t[26]=s("div",{class:"text-sm text-gray-600"},"本地时间",-1)),s("div",G,c(se.value.local),1)]),s("div",H,[t[27]||(t[27]=s("div",{class:"text-sm text-gray-600"},"UTC时间",-1)),s("div",J,c(se.value.utc),1)]),s("div",K,[t[28]||(t[28]=s("div",{class:"text-sm text-gray-600"},"时间戳",-1)),s("div",P,c(se.value.timestamp),1)])])])]);var a}}};export{Q as default};
