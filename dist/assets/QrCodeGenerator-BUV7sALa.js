import{r as e,c as l,k as a,l as r,m as o,n as s,t,u,C as d,N as n,D as i,j as c}from"./vendor-Bj4vQ21v.js";import{u as p}from"./index-D0OvHsGD.js";import{b as m}from"./crypto-DEPKJqf2.js";import{Q as v}from"./ui-a1y1iJBQ.js";const b={class:"space-y-6"},f={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},g={class:"space-y-4"},y={class:"text-lg font-semibold text-gray-900"},x={class:"space-y-3"},h={class:"block text-sm font-medium text-gray-700"},w={value:"text"},C={value:"url"},k={value:"email"},q={value:"phone"},G={value:"sms"},U={value:"wifi"},V={value:"vcard"},W={class:"space-y-3"},P={class:"block text-sm font-medium text-gray-700"},j=["placeholder"],$={key:0,class:"space-y-3 p-4 bg-gray-50 rounded-lg"},A={class:"grid grid-cols-2 gap-3"},D={class:"space-y-3"},I={class:"grid grid-cols-2 gap-3"},Q={class:"block text-sm font-medium text-gray-700 mb-1"},E={class:"grid grid-cols-2 gap-3"},F=["disabled"],L={class:"space-y-4"},S={class:"bg-white border border-gray-200 rounded-lg p-6 text-center"},_={key:0,class:"space-y-4"},H={class:"flex justify-center"},M=["src","alt"],R={class:"text-sm text-gray-600"},T={key:1,class:"py-12 text-gray-500"},N={__name:"QrCodeGenerator",setup(N){const{t:z}=p(),B=e("text"),J=e(""),K=e(200),O=e("M"),X=e("#000000"),Y=e("#ffffff"),Z=e(""),ee=e({ssid:"",password:"",security:"WPA",hidden:"false"}),le=l(()=>"wifi"===B.value?""!==ee.value.ssid.trim():""!==J.value.trim()),ae=async()=>{try{let e=J.value.trim();"url"!==B.value||e.startsWith("http")?"email"===B.value?e="mailto:"+e:"phone"===B.value?e="tel:"+e:"sms"===B.value?e="sms:"+e:"wifi"===B.value&&(e=re()):e="https://"+e;const l={width:K.value,margin:2,color:{dark:X.value,light:Y.value},errorCorrectionLevel:O.value};Z.value=await m.toDataURL(e,l)}catch(e){console.error("生成二维码失败:",e),alert("生成二维码失败，请检查输入内容")}},re=()=>{const{ssid:e,password:l,security:a,hidden:r}=ee.value;return`WIFI:T:${a};S:${e};P:${l};H:${r};;`},oe=()=>{if(!Z.value)return;const e=document.createElement("a");e.download=`qrcode_${Date.now()}.png`,e.href=Z.value,e.click()},se=async()=>{if(Z.value)try{const e=await fetch(Z.value),l=await e.blob();await navigator.clipboard.write([new ClipboardItem({[l.type]:l})]),alert("二维码已复制到剪贴板")}catch(e){console.error("复制失败:",e),alert("复制失败，请尝试下载")}};return(e,l)=>(r(),a("div",b,[o("div",f,[o("div",g,[o("h3",y,t(u(z)("qrCodeGenerator.generateQR")),1),o("div",x,[o("label",h,t(u(z)("qrCodeGenerator.contentType")),1),d(o("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>B.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[o("option",w,t(u(z)("qrCodeGenerator.text")),1),o("option",C,t(u(z)("qrCodeGenerator.url")),1),o("option",k,t(u(z)("qrCodeGenerator.email")),1),o("option",q,t(u(z)("qrCodeGenerator.phone")),1),o("option",G,t(u(z)("qrCodeGenerator.sms")),1),o("option",U,t(u(z)("qrCodeGenerator.wifi")),1),o("option",V,t(u(z)("qrCodeGenerator.vcard")),1)],512),[[n,B.value]])]),o("div",W,[o("label",P,t(u(z)("qrCodeGenerator.content")),1),d(o("textarea",{"onUpdate:modelValue":l[1]||(l[1]=e=>J.value=e),placeholder:{text:z("qrCodeGenerator.placeholders.text"),url:z("qrCodeGenerator.placeholders.url"),email:z("qrCodeGenerator.placeholders.email"),phone:z("qrCodeGenerator.placeholders.phone"),sms:z("qrCodeGenerator.placeholders.sms"),wifi:z("qrCodeGenerator.placeholders.wifi"),vcard:z("qrCodeGenerator.placeholders.vcard")}[B.value]||"",rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,j),[[i,J.value]])]),"wifi"===B.value?(r(),a("div",$,[l[16]||(l[16]=o("h4",{class:"font-medium text-gray-900"},"WiFi 设置",-1)),o("div",A,[o("div",null,[l[10]||(l[10]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"网络名称 (SSID)",-1)),d(o("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>ee.value.ssid=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[i,ee.value.ssid]])]),o("div",null,[l[11]||(l[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"密码",-1)),d(o("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>ee.value.password=e),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[i,ee.value.password]])]),o("div",null,[l[13]||(l[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"加密类型",-1)),d(o("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>ee.value.security=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[12]||(l[12]=[o("option",{value:"WPA"},"WPA/WPA2",-1),o("option",{value:"WEP"},"WEP",-1),o("option",{value:"nopass"},"无密码",-1)])],512),[[n,ee.value.security]])]),o("div",null,[l[15]||(l[15]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"是否隐藏",-1)),d(o("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>ee.value.hidden=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[14]||(l[14]=[o("option",{value:"false"},"否",-1),o("option",{value:"true"},"是",-1)])],512),[[n,ee.value.hidden]])])])])):s("",!0),o("div",D,[l[21]||(l[21]=o("h4",{class:"font-medium text-gray-900"},"二维码设置",-1)),o("div",I,[o("div",null,[o("label",Q,"尺寸 ("+t(K.value)+"px)",1),d(o("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>K.value=e),type:"range",min:"100",max:"500",step:"50",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[i,K.value]])]),o("div",null,[l[18]||(l[18]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"容错级别",-1)),d(o("select",{"onUpdate:modelValue":l[7]||(l[7]=e=>O.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[17]||(l[17]=[o("option",{value:"L"},"低 (7%)",-1),o("option",{value:"M"},"中 (15%)",-1),o("option",{value:"Q"},"较高 (25%)",-1),o("option",{value:"H"},"高 (30%)",-1)])],512),[[n,O.value]])])]),o("div",E,[o("div",null,[l[19]||(l[19]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"前景色",-1)),d(o("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>X.value=e),type:"color",class:"w-full h-10 border border-gray-300 rounded-md cursor-pointer"},null,512),[[i,X.value]])]),o("div",null,[l[20]||(l[20]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"背景色",-1)),d(o("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>Y.value=e),type:"color",class:"w-full h-10 border border-gray-300 rounded-md cursor-pointer"},null,512),[[i,Y.value]])])])]),o("button",{onClick:ae,disabled:!le.value,class:"btn-primary w-full"}," 生成二维码 ",8,F)]),o("div",L,[l[23]||(l[23]=o("h3",{class:"text-lg font-semibold text-gray-900"},"二维码预览",-1)),o("div",S,[Z.value?(r(),a("div",_,[o("div",H,[o("img",{src:Z.value,alt:J.value,class:"border border-gray-200 rounded"},null,8,M)]),o("div",R,[o("p",null,"尺寸: "+t(K.value)+" × "+t(K.value)+" 像素",1),o("p",null,"容错级别: "+t(O.value),1)]),o("div",{class:"flex space-x-2"},[o("button",{onClick:oe,class:"btn-primary flex-1"}," 下载二维码 "),o("button",{onClick:se,class:"btn-secondary flex-1"}," 复制图片 ")])])):(r(),a("div",T,[c(u(v),{class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),l[22]||(l[22]=o("p",null,"输入内容后点击生成二维码",-1))]))]),l[24]||(l[24]=o("div",{class:"bg-blue-50 rounded-lg p-4"},[o("h4",{class:"font-medium text-blue-900 mb-2"},"使用说明"),o("ul",{class:"text-sm text-blue-800 space-y-1"},[o("li",null,"• 支持文本、网址、邮箱、电话等多种内容类型"),o("li",null,"• WiFi 二维码可直接扫码连接网络"),o("li",null,"• 容错级别越高，二维码越复杂但越不容易损坏"),o("li",null,"• 可自定义颜色和尺寸")])],-1))])])]))}};export{N as default};
