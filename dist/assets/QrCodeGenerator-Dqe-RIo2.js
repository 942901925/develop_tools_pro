import{r as e,c as l,k as a,l as o,m as s,n as t,z as r,L as u,M as d,A as i,t as n,j as c,u as p}from"./vendor-BAdfJYHu.js";import{b as m}from"./crypto-DEPKJqf2.js";import{Q as v}from"./ui-AB4YetZ5.js";const b={class:"space-y-6"},g={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},f={class:"space-y-4"},y={class:"space-y-3"},x={class:"space-y-3"},w=["placeholder"],h={key:0,class:"space-y-3 p-4 bg-gray-50 rounded-lg"},k={class:"grid grid-cols-2 gap-3"},V={class:"space-y-3"},W={class:"grid grid-cols-2 gap-3"},U={class:"block text-sm font-medium text-gray-700 mb-1"},A={class:"grid grid-cols-2 gap-3"},C=["disabled"],E={class:"space-y-4"},I={class:"bg-white border border-gray-200 rounded-lg p-6 text-center"},P={key:0,class:"space-y-4"},D={class:"flex justify-center"},F=["src","alt"],L={class:"text-sm text-gray-600"},j={key:1,class:"py-12 text-gray-500"},$={__name:"QrCodeGenerator",setup($){const M=e("text"),N=e(""),R=e(200),S=e("M"),Q=e("#000000"),_=e("#ffffff"),G=e(""),H=e({ssid:"",password:"",security:"WPA",hidden:"false"}),T=l(()=>"wifi"===M.value?""!==H.value.ssid.trim():""!==N.value.trim()),q=async()=>{try{let e=N.value.trim();"url"!==M.value||e.startsWith("http")?"email"===M.value?e="mailto:"+e:"phone"===M.value?e="tel:"+e:"sms"===M.value?e="sms:"+e:"wifi"===M.value&&(e=z()):e="https://"+e;const l={width:R.value,margin:2,color:{dark:Q.value,light:_.value},errorCorrectionLevel:S.value};G.value=await m.toDataURL(e,l)}catch(e){console.error("生成二维码失败:",e),alert("生成二维码失败，请检查输入内容")}},z=()=>{const{ssid:e,password:l,security:a,hidden:o}=H.value;return`WIFI:T:${a};S:${e};P:${l};H:${o};;`},B=()=>{if(!G.value)return;const e=document.createElement("a");e.download=`qrcode_${Date.now()}.png`,e.href=G.value,e.click()},O=async()=>{if(G.value)try{const e=await fetch(G.value),l=await e.blob();await navigator.clipboard.write([new ClipboardItem({[l.type]:l})]),alert("二维码已复制到剪贴板")}catch(e){console.error("复制失败:",e),alert("复制失败，请尝试下载")}};return(e,l)=>(o(),a("div",b,[s("div",g,[s("div",f,[l[25]||(l[25]=s("h3",{class:"text-lg font-semibold text-gray-900"},"生成二维码",-1)),s("div",y,[l[11]||(l[11]=s("label",{class:"block text-sm font-medium text-gray-700"},"内容类型",-1)),r(s("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>M.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[10]||(l[10]=[d('<option value="text">文本</option><option value="url">网址</option><option value="email">邮箱</option><option value="phone">电话</option><option value="sms">短信</option><option value="wifi">WiFi</option><option value="vcard">名片</option>',7)])],512),[[u,M.value]])]),s("div",x,[l[12]||(l[12]=s("label",{class:"block text-sm font-medium text-gray-700"},"内容",-1)),r(s("textarea",{"onUpdate:modelValue":l[1]||(l[1]=e=>N.value=e),placeholder:{text:"输入要生成二维码的文本内容...",url:"https://example.com",email:"example@email.com",phone:"+86 138 0013 8000",sms:"短信内容",wifi:"WiFi 信息将通过下方设置生成",vcard:"BEGIN:VCARD\nVERSION:3.0\nFN:姓名\nTEL:电话\nEMAIL:邮箱\nEND:VCARD"}[M.value]||"",rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,w),[[i,N.value]])]),"wifi"===M.value?(o(),a("div",h,[l[19]||(l[19]=s("h4",{class:"font-medium text-gray-900"},"WiFi 设置",-1)),s("div",k,[s("div",null,[l[13]||(l[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"网络名称 (SSID)",-1)),r(s("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>H.value.ssid=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[i,H.value.ssid]])]),s("div",null,[l[14]||(l[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"密码",-1)),r(s("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>H.value.password=e),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[i,H.value.password]])]),s("div",null,[l[16]||(l[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"加密类型",-1)),r(s("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>H.value.security=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[15]||(l[15]=[s("option",{value:"WPA"},"WPA/WPA2",-1),s("option",{value:"WEP"},"WEP",-1),s("option",{value:"nopass"},"无密码",-1)])],512),[[u,H.value.security]])]),s("div",null,[l[18]||(l[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"是否隐藏",-1)),r(s("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>H.value.hidden=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[17]||(l[17]=[s("option",{value:"false"},"否",-1),s("option",{value:"true"},"是",-1)])],512),[[u,H.value.hidden]])])])])):t("",!0),s("div",V,[l[24]||(l[24]=s("h4",{class:"font-medium text-gray-900"},"二维码设置",-1)),s("div",W,[s("div",null,[s("label",U,"尺寸 ("+n(R.value)+"px)",1),r(s("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>R.value=e),type:"range",min:"100",max:"500",step:"50",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"},null,512),[[i,R.value]])]),s("div",null,[l[21]||(l[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"容错级别",-1)),r(s("select",{"onUpdate:modelValue":l[7]||(l[7]=e=>S.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[20]||(l[20]=[s("option",{value:"L"},"低 (7%)",-1),s("option",{value:"M"},"中 (15%)",-1),s("option",{value:"Q"},"较高 (25%)",-1),s("option",{value:"H"},"高 (30%)",-1)])],512),[[u,S.value]])])]),s("div",A,[s("div",null,[l[22]||(l[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"前景色",-1)),r(s("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>Q.value=e),type:"color",class:"w-full h-10 border border-gray-300 rounded-md cursor-pointer"},null,512),[[i,Q.value]])]),s("div",null,[l[23]||(l[23]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"背景色",-1)),r(s("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>_.value=e),type:"color",class:"w-full h-10 border border-gray-300 rounded-md cursor-pointer"},null,512),[[i,_.value]])])])]),s("button",{onClick:q,disabled:!T.value,class:"btn-primary w-full"}," 生成二维码 ",8,C)]),s("div",E,[l[27]||(l[27]=s("h3",{class:"text-lg font-semibold text-gray-900"},"二维码预览",-1)),s("div",I,[G.value?(o(),a("div",P,[s("div",D,[s("img",{src:G.value,alt:N.value,class:"border border-gray-200 rounded"},null,8,F)]),s("div",L,[s("p",null,"尺寸: "+n(R.value)+" × "+n(R.value)+" 像素",1),s("p",null,"容错级别: "+n(S.value),1)]),s("div",{class:"flex space-x-2"},[s("button",{onClick:B,class:"btn-primary flex-1"}," 下载二维码 "),s("button",{onClick:O,class:"btn-secondary flex-1"}," 复制图片 ")])])):(o(),a("div",j,[c(p(v),{class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),l[26]||(l[26]=s("p",null,"输入内容后点击生成二维码",-1))]))]),l[28]||(l[28]=s("div",{class:"bg-blue-50 rounded-lg p-4"},[s("h4",{class:"font-medium text-blue-900 mb-2"},"使用说明"),s("ul",{class:"text-sm text-blue-800 space-y-1"},[s("li",null,"• 支持文本、网址、邮箱、电话等多种内容类型"),s("li",null,"• WiFi 二维码可直接扫码连接网络"),s("li",null,"• 容错级别越高，二维码越复杂但越不容易损坏"),s("li",null,"• 可自定义颜色和尺寸")])],-1))])])]))}};export{$ as default};
