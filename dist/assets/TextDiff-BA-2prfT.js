import{r as e,k as t,l,m as s,n,z as a,t as r,u as o,A as d,F as i,q as c,p as u}from"./vendor-BOWHWpaN.js";import{u as g}from"./index-3NlzT2cr.js";import"./ui-DoE9cyLw.js";const x={class:"space-y-6"},p={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},f={class:"space-y-4"},v={class:"flex items-center justify-between"},b={class:"text-lg font-semibold text-gray-900"},m={class:"flex space-x-2"},y=["placeholder"],h={class:"text-sm text-gray-600"},D={class:"space-y-4"},w={class:"flex items-center justify-between"},k={class:"text-lg font-semibold text-gray-900"},C={class:"flex space-x-2"},$=["placeholder"],j={class:"text-sm text-gray-600"},N={class:"text-center"},T=["disabled"],L={key:0,class:"space-y-4"},M={class:"text-lg font-semibold text-gray-900"},F={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},U={class:"bg-red-50 p-4 rounded-lg text-center"},V={class:"text-2xl font-bold text-red-600"},_={class:"text-sm text-gray-600"},q={class:"bg-green-50 p-4 rounded-lg text-center"},z={class:"text-2xl font-bold text-green-600"},A={class:"text-sm text-gray-600"},B={class:"bg-blue-50 p-4 rounded-lg text-center"},R={class:"text-2xl font-bold text-blue-600"},S={class:"text-sm text-gray-600"},E={class:"bg-purple-50 p-4 rounded-lg text-center"},G={class:"text-2xl font-bold text-purple-600"},H={class:"text-sm text-gray-600"},I={class:"bg-gray-900 text-white p-4 rounded-lg overflow-auto"},J={class:"font-mono text-sm whitespace-pre-wrap"},K={key:1,class:"space-y-4"},O={class:"text-lg font-semibold text-gray-900"},P={class:"space-y-2"},Q={class:"flex items-start space-x-4"},W={class:"text-sm font-mono text-gray-500 w-8 flex-shrink-0"},X={class:"text-sm font-mono flex-1"},Y={key:0,class:"text-red-300 bg-red-900/50 px-1 rounded"},Z={key:1,class:"text-green-300 bg-green-900/50 px-1 rounded"},ee={key:2,class:"text-yellow-300 bg-yellow-900/50 px-1 rounded"},te={key:3,class:"text-gray-300"},le={class:"space-y-4"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ne=["onClick"],ae={class:"font-medium text-gray-900"},re={class:"text-sm text-gray-600 mt-1"},oe={__name:"TextDiff",setup(oe){const{t:de}=g(),ie=e(""),ce=e(""),ue=e(null),ge=e([]),xe=e([{name:"代码对比",description:"两段相似的代码",text1:"function add(a, b) {\n  return a + b;\n}",text2:"function add(a, b) {\n  const result = a + b;\n  return result;\n}"},{name:"文档对比",description:"文档内容的变化",text1:"这是一个简单的文档。\n它包含一些基本内容。",text2:"这是一个更新的文档。\n它包含一些修改后的内容。\n还添加了新的段落。"},{name:"配置对比",description:"配置文件的变化",text1:"server {\n  port: 3000\n  host: localhost\n}",text2:"server {\n  port: 8080\n  host: 0.0.0.0\n  ssl: true\n}"}]),pe=()=>{if(!ie.value||!ce.value)return;const e=ie.value.split("\n"),t=ce.value.split("\n"),l=fe(e,t),s=ve(e,t);ue.value=l,ge.value=s},fe=(e,t)=>{const l=Math.max(e.length,t.length);let s=0,n=0,a=0,r="";for(let i=0;i<l;i++){const l=e[i]||"",o=t[i]||"";i>=e.length?(r+=`+ ${o}\n`,n++):i>=t.length?(r+=`- ${l}\n`,s++):l===o?r+=`  ${l}\n`:(r+=`- ${l}\n`,r+=`+ ${o}\n`,a++)}const o=Math.max(e.length,t.length),d=o-s-n-a;return{deletions:s,additions:n,changes:a,similarity:o>0?Math.round(d/o*100):100,display:r.trim()}},ve=(e,t)=>{const l=[],s=Math.max(e.length,t.length);for(let n=0;n<s;n++){const s=e[n]||"",a=t[n]||"";n>=e.length?l.push({lineNumber:n+1,type:"added",content:a}):n>=t.length?l.push({lineNumber:n+1,type:"deleted",content:s}):s===a?l.push({lineNumber:n+1,type:"unchanged",content:s}):l.push({lineNumber:n+1,type:"modified",content:`${s} → ${a}`})}return l},be=()=>{ie.value="这是第一段文本。\n它包含一些内容。\n用于测试对比功能。"},me=()=>{ce.value="这是第二段文本。\n它包含修改后的内容。\n用于测试对比功能。\n还添加了新的行。"},ye=()=>{ie.value="",ue.value=null,ge.value=[]},he=()=>{ce.value="",ue.value=null,ge.value=[]};return(e,g)=>(l(),t("div",x,[s("div",p,[s("div",f,[s("div",v,[s("h3",b,r(o(de)("textDiff.originalText")),1),s("div",m,[s("button",{onClick:ye,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"},r(o(de)("textDiff.clear")),1),s("button",{onClick:be,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"},r(o(de)("textDiff.sample1")),1)])]),a(s("textarea",{"onUpdate:modelValue":g[0]||(g[0]=e=>ie.value=e),placeholder:o(de)("textDiff.enterFirstText"),class:"w-full h-64 p-4 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,y),[[d,ie.value]]),s("div",h,r(o(de)("textDiff.charCount"))+": "+r(ie.value.length)+" | "+r(o(de)("textDiff.lineCount"))+": "+r(ie.value.split("\n").length),1)]),s("div",D,[s("div",w,[s("h3",k,r(o(de)("textDiff.compareText")),1),s("div",C,[s("button",{onClick:he,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"},r(o(de)("textDiff.clear")),1),s("button",{onClick:me,class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"},r(o(de)("textDiff.sample2")),1)])]),a(s("textarea",{"onUpdate:modelValue":g[1]||(g[1]=e=>ce.value=e),placeholder:o(de)("textDiff.enterSecondText"),class:"w-full h-64 p-4 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"},null,8,$),[[d,ce.value]]),s("div",j,r(o(de)("textDiff.charCount"))+": "+r(ce.value.length)+" | "+r(o(de)("textDiff.lineCount"))+": "+r(ce.value.split("\n").length),1)])]),s("div",N,[s("button",{onClick:pe,disabled:!ie.value||!ce.value,class:"px-8 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium"},r(o(de)("textDiff.startCompare")),9,T)]),ue.value?(l(),t("div",L,[s("h3",M,r(o(de)("textDiff.compareResult")),1),s("div",F,[s("div",U,[s("div",V,r(ue.value.deletions),1),s("div",_,r(o(de)("textDiff.deletedLines")),1)]),s("div",q,[s("div",z,r(ue.value.additions),1),s("div",A,r(o(de)("textDiff.addedLines")),1)]),s("div",B,[s("div",R,r(ue.value.changes),1),s("div",S,r(o(de)("textDiff.modifiedLines")),1)]),s("div",E,[s("div",G,r(ue.value.similarity)+"%",1),s("div",H,r(o(de)("textDiff.similarity")),1)])]),s("div",I,[s("div",J,r(ue.value.display),1)])])):n("",!0),ge.value.length>0?(l(),t("div",K,[s("h3",O,r(o(de)("textDiff.lineByLineCompare")),1),s("div",P,[(l(!0),t(i,null,c(ge.value,(e,n)=>{return l(),t("div",{key:n,class:u(["p-3 rounded-lg",(a=e.type,{deleted:"bg-red-50 border-l-4 border-red-400",added:"bg-green-50 border-l-4 border-green-400",modified:"bg-yellow-50 border-l-4 border-yellow-400",unchanged:"bg-gray-50"}[a]||"bg-gray-50")])},[s("div",Q,[s("div",W,r(e.lineNumber),1),s("div",X,["deleted"===e.type?(l(),t("span",Y," - "+r(e.content),1)):"added"===e.type?(l(),t("span",Z," + "+r(e.content),1)):"modified"===e.type?(l(),t("span",ee," ~ "+r(e.content),1)):(l(),t("span",te,r(e.content),1))])])],2);var a}),128))])])):n("",!0),s("div",le,[g[2]||(g[2]=s("h3",{class:"text-lg font-semibold text-gray-900"},"示例文本",-1)),s("div",se,[(l(!0),t(i,null,c(xe.value,e=>(l(),t("div",{key:e.name,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:t=>(e=>{ie.value=e.text1,ce.value=e.text2,pe()})(e)},[s("div",ae,r(e.name),1),s("div",re,r(e.description),1)],8,ne))),128))])])]))}};export{oe as default};
