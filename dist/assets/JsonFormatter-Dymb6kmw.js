import{r as e,c as a,k as t,l as r,m as s,t as l,u as o,F as d,q as n,z as u,n as i,A as c,j as b}from"./vendor-BOWHWpaN.js";import{u as g}from"./index-3NlzT2cr.js";import{s as v,t as m}from"./ui-DoE9cyLw.js";const x={class:"space-y-2"},p={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-1"},y={class:"font-medium text-blue-900 dark:text-blue-100 mb-1"},f={class:"flex flex-wrap gap-1"},h=["onClick"],k={class:"flex flex-wrap gap-2 justify-center mb-1"},j=["disabled"],w=["disabled"],F=["disabled"],O={class:"grid grid-cols-1 xl:grid-cols-2 gap-2"},C={class:"space-y-1"},J={class:"flex items-center justify-between"},N={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},S={class:"flex space-x-2"},R=["disabled"],T=["placeholder"],A={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},L={class:"flex items-center"},U={class:"text-red-700 text-sm"},z={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},I={class:"flex items-center"},P={class:"text-green-700 text-sm"},_={class:"space-y-1"},q={class:"flex items-center justify-between"},B={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},D={class:"flex space-x-2"},E=["disabled"],V=["disabled"],G={class:"relative"},H={class:"w-full h-96 p-1 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-lg overflow-auto text-sm font-mono"},K={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500"},M={class:"grid grid-cols-2 md:grid-cols-4 gap-1"},Q={class:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg"},W={class:"text-sm text-gray-600 dark:text-gray-400"},X={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Y={class:"bg-green-50 dark:bg-green-900/20 p-2 rounded-lg"},Z={class:"text-sm text-gray-600 dark:text-gray-400"},$={class:"text-2xl font-bold text-green-600 dark:text-green-400"},ee={class:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded-lg"},ae={class:"text-sm text-gray-600 dark:text-gray-400"},te={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},re={class:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded-lg"},se={class:"text-sm text-gray-600 dark:text-gray-400"},le={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},oe={__name:"JsonFormatter",setup(oe){const{t:de}=g(),ne=e(""),ue=e(""),ie=e(""),ce=e(""),be=a(()=>[{name:de("jsonFormatter.examples.userInfo"),data:{id:1,name:"张三",email:"zhangsan@example.com",age:25,address:{street:"中山路123号",city:"北京",country:"中国"},hobbies:["读书","游泳","编程"]}},{name:de("jsonFormatter.examples.apiResponse"),data:{status:"success",data:{users:[{id:1,name:"用户1",active:!0},{id:2,name:"用户2",active:!1}],total:2,page:1},message:"获取用户列表成功"}},{name:de("jsonFormatter.examples.configInfo"),data:{database:{host:"localhost",port:5432,name:"myapp",ssl:!0},redis:{host:"localhost",port:6379,password:null},features:{enableCache:!0,enableLogging:!1,maxConnections:100}}}]),ge=a(()=>{try{const e=JSON.parse(ne.value);return je(e)}catch{return 0}}),ve=a(()=>{try{const e=JSON.parse(ne.value);return we(e)}catch{return 0}}),me=()=>{try{const e=JSON.parse(ne.value);ue.value=JSON.stringify(e,null,2),ie.value="",ce.value="JSON格式化成功！",setTimeout(()=>{ce.value=""},3e3)}catch(e){ie.value="JSON格式错误: "+e.message,ue.value="",ce.value=""}},xe=()=>{try{const e=JSON.parse(ne.value);ue.value=JSON.stringify(e),ie.value="",ce.value="JSON压缩成功！",setTimeout(()=>{ce.value=""},3e3)}catch(e){ie.value="JSON格式错误: "+e.message,ue.value="",ce.value=""}},pe=()=>{try{JSON.parse(ne.value),ie.value="",ce.value="JSON格式验证通过！",setTimeout(()=>{ce.value=""},3e3)}catch(e){ie.value="JSON格式错误: "+e.message,ce.value=""}},ye=()=>{ne.value="",ue.value="",ie.value="",ce.value=""},fe=async()=>{try{await navigator.clipboard.writeText(ne.value),ce.value="输入内容已复制到剪贴板！",setTimeout(()=>{ce.value=""},3e3)}catch(e){ie.value="复制失败: "+e.message}},he=async()=>{try{await navigator.clipboard.writeText(ue.value),ce.value="结果已复制到剪贴板！",setTimeout(()=>{ce.value=""},3e3)}catch(e){ie.value="复制失败: "+e.message}},ke=()=>{if(!ue.value)return;const e=new Blob([ue.value],{type:"application/json"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="formatted.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),ce.value="JSON文件已下载！",setTimeout(()=>{ce.value=""},3e3)},je=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?e.reduce((e,a)=>e+je(a),0):1+Object.values(e).reduce((e,a)=>e+je(a),0),we=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?1+e.reduce((e,a)=>e+we(a),0):Object.values(e).reduce((e,a)=>e+we(a),0);return(e,a)=>(r(),t("div",x,[s("div",p,[s("h4",y,l(o(de)("jsonFormatter.exampleData")),1),s("div",f,[(r(!0),t(d,null,n(be.value,e=>(r(),t("button",{key:e.name,onClick:a=>{return t=e.data,ne.value=JSON.stringify(t,null,2),ie.value="",ce.value="",void(ue.value="");var t},class:"px-2 py-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-100 rounded text-xs transition-colors"},l(e.name),9,h))),128))])]),s("div",k,[s("button",{onClick:me,disabled:!ne.value.trim(),class:"px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l(o(de)("jsonFormatter.format")),9,j),s("button",{onClick:xe,disabled:!ne.value.trim(),class:"px-3 py-1.5 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l(o(de)("jsonFormatter.minify")),9,w),s("button",{onClick:pe,disabled:!ne.value.trim(),class:"px-3 py-1.5 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"},l(o(de)("jsonFormatter.validate")),9,F),s("button",{onClick:ye,class:"px-3 py-1.5 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm"},l(o(de)("jsonFormatter.clear")),1)]),s("div",O,[s("div",C,[s("div",J,[s("h3",N,l(o(de)("jsonFormatter.jsonInput")),1),s("div",S,[s("button",{onClick:fe,disabled:!ne.value.trim(),class:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o(de)("jsonFormatter.copy")),9,R)])]),u(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>ne.value=e),placeholder:o(de)("jsonFormatter.inputPlaceholder"),class:"w-full h-96 p-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"},null,8,T),[[c,ne.value]]),ie.value?(r(),t("div",A,[s("div",L,[b(o(v),{class:"w-5 h-5 text-red-500 mr-2"}),s("span",U,l(ie.value),1)])])):i("",!0),ce.value?(r(),t("div",z,[s("div",I,[b(o(m),{class:"w-5 h-5 text-green-500 mr-2"}),s("span",P,l(ce.value),1)])])):i("",!0)]),s("div",_,[s("div",q,[s("h3",B,l(o(de)("jsonFormatter.formattedResult")),1),s("div",D,[s("button",{onClick:he,disabled:!ue.value,class:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o(de)("jsonFormatter.copyResult")),9,E),s("button",{onClick:ke,disabled:!ue.value,class:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o(de)("jsonFormatter.download")),9,V)])]),s("div",G,[s("pre",H,l(ue.value||o(de)("jsonFormatter.resultPlaceholder")),1),ue.value?i("",!0):(r(),t("div",K,l(o(de)("jsonFormatter.noResult")),1))])])]),s("div",M,[s("div",Q,[s("div",W,l(o(de)("jsonFormatter.charCount")),1),s("div",X,l(ne.value.length),1)]),s("div",Y,[s("div",Z,l(o(de)("jsonFormatter.lineCount")),1),s("div",$,l(ne.value.split("\n").length),1)]),s("div",ee,[s("div",ae,l(o(de)("jsonFormatter.objectCount")),1),s("div",te,l(ge.value),1)]),s("div",re,[s("div",se,l(o(de)("jsonFormatter.arrayCount")),1),s("div",le,l(ve.value),1)])])]))}};export{oe as default};
