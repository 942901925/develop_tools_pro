import{r as e,c as a,k as t,l,m as s,F as r,q as d,t as o,C as u,n,D as i,j as c,u as b}from"./vendor-Cf-Dxv3i.js";import{c as g}from"./index-ClHxvkk4.js";import{s as v,t as x}from"./ui-D-c3Ifvx.js";const p={class:"space-y-2"},y={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-1"},m={class:"flex flex-wrap gap-1"},f=["onClick"],k={class:"flex flex-wrap gap-2 justify-center mb-1"},h=["disabled"],w=["disabled"],O=["disabled"],J={class:"grid grid-cols-1 xl:grid-cols-2 gap-2"},N={class:"space-y-1"},S={class:"flex items-center justify-between"},j={class:"flex space-x-2"},C=["disabled"],T={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},A={class:"flex items-center"},L={class:"text-red-700 text-sm"},U={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},R={class:"flex items-center"},z={class:"text-green-700 text-sm"},F={class:"space-y-1"},_={class:"flex items-center justify-between"},q={class:"flex space-x-2"},B=["disabled"],D=["disabled"],E={class:"relative"},I={class:"w-full h-96 p-1 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-lg overflow-auto text-sm font-mono"},P={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500"},V={class:"grid grid-cols-2 md:grid-cols-4 gap-1"},G={class:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg"},H={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},K={class:"bg-green-50 dark:bg-green-900/20 p-2 rounded-lg"},M={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Q={class:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded-lg"},W={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},X={class:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded-lg"},Y={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Z={__name:"JsonFormatter",setup(Z){const $=e(""),ee=e(""),ae=e(""),te=e(""),le=e([{name:"用户信息",data:{id:1,name:"张三",email:"zhangsan@example.com",age:25,address:{street:"中山路123号",city:"北京",country:"中国"},hobbies:["读书","游泳","编程"]}},{name:"API响应",data:{status:"success",data:{users:[{id:1,name:"用户1",active:!0},{id:2,name:"用户2",active:!1}],total:2,page:1},message:"获取用户列表成功"}},{name:"配置信息",data:{database:{host:"localhost",port:5432,name:"myapp",ssl:!0},redis:{host:"localhost",port:6379,password:null},features:{enableCache:!0,enableLogging:!1,maxConnections:100}}}]),se=a(()=>{try{const e=JSON.parse($.value);return ge(e)}catch{return 0}}),re=a(()=>{try{const e=JSON.parse($.value);return ve(e)}catch{return 0}}),de=()=>{try{const e=JSON.parse($.value);ee.value=JSON.stringify(e,null,2),ae.value="",te.value="JSON格式化成功！",setTimeout(()=>{te.value=""},3e3)}catch(e){ae.value="JSON格式错误: "+e.message,ee.value="",te.value=""}},oe=()=>{try{const e=JSON.parse($.value);ee.value=JSON.stringify(e),ae.value="",te.value="JSON压缩成功！",setTimeout(()=>{te.value=""},3e3)}catch(e){ae.value="JSON格式错误: "+e.message,ee.value="",te.value=""}},ue=()=>{try{JSON.parse($.value),ae.value="",te.value="JSON格式验证通过！",setTimeout(()=>{te.value=""},3e3)}catch(e){ae.value="JSON格式错误: "+e.message,te.value=""}},ne=()=>{$.value="",ee.value="",ae.value="",te.value=""},ie=async()=>{await g($.value,"输入内容")?(te.value="输入内容已复制到剪贴板！",setTimeout(()=>{te.value=""},3e3)):ae.value="复制失败"},ce=async()=>{await g(ee.value,"格式化结果")?(te.value="结果已复制到剪贴板！",setTimeout(()=>{te.value=""},3e3)):ae.value="复制失败"},be=()=>{if(!ee.value)return;const e=new Blob([ee.value],{type:"application/json"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="formatted.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),te.value="JSON文件已下载！",setTimeout(()=>{te.value=""},3e3)},ge=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?e.reduce((e,a)=>e+ge(a),0):1+Object.values(e).reduce((e,a)=>e+ge(a),0),ve=e=>"object"!=typeof e||null===e?0:Array.isArray(e)?1+e.reduce((e,a)=>e+ve(a),0):Object.values(e).reduce((e,a)=>e+ve(a),0);return(e,a)=>(l(),t("div",p,[s("div",y,[a[1]||(a[1]=s("h4",{class:"font-medium text-blue-900 dark:text-blue-100 mb-1"},"示例数据",-1)),s("div",m,[(l(!0),t(r,null,d(le.value,e=>(l(),t("button",{key:e.name,onClick:a=>{return t=e.data,$.value=JSON.stringify(t,null,2),ae.value="",te.value="",void(ee.value="");var t},class:"px-2 py-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-100 rounded text-xs transition-colors"},o(e.name),9,f))),128))])]),s("div",k,[s("button",{onClick:de,disabled:!$.value.trim(),class:"px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," 格式化 ",8,h),s("button",{onClick:oe,disabled:!$.value.trim(),class:"px-3 py-1.5 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," 压缩 ",8,w),s("button",{onClick:ue,disabled:!$.value.trim(),class:"px-3 py-1.5 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," 验证 ",8,O),s("button",{onClick:ne,class:"px-3 py-1.5 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm"}," 清空 ")]),s("div",J,[s("div",N,[s("div",S,[a[2]||(a[2]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"JSON 输入",-1)),s("div",j,[s("button",{onClick:ie,disabled:!$.value.trim(),class:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 复制 ",8,C)])]),u(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),placeholder:"请输入JSON数据，或点击上方示例按钮加载示例数据...",class:"w-full h-96 p-1 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"},null,512),[[i,$.value]]),ae.value?(l(),t("div",T,[s("div",A,[c(b(v),{class:"w-5 h-5 text-red-500 mr-2"}),s("span",L,o(ae.value),1)])])):n("",!0),te.value?(l(),t("div",U,[s("div",R,[c(b(x),{class:"w-5 h-5 text-green-500 mr-2"}),s("span",z,o(te.value),1)])])):n("",!0)]),s("div",F,[s("div",_,[a[3]||(a[3]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"格式化结果",-1)),s("div",q,[s("button",{onClick:ce,disabled:!ee.value,class:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 复制结果 ",8,B),s("button",{onClick:be,disabled:!ee.value,class:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," 下载 ",8,D)])]),s("div",E,[s("pre",I,o(ee.value||"格式化结果将显示在这里..."),1),ee.value?n("",!0):(l(),t("div",P," 暂无结果 "))])])]),s("div",V,[s("div",G,[a[4]||(a[4]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"字符数",-1)),s("div",H,o($.value.length),1)]),s("div",K,[a[5]||(a[5]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"行数",-1)),s("div",M,o($.value.split("\n").length),1)]),s("div",Q,[a[6]||(a[6]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"对象数",-1)),s("div",W,o(se.value),1)]),s("div",X,[a[7]||(a[7]=s("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"数组数",-1)),s("div",Y,o(re.value),1)])])]))}};export{Z as default};
